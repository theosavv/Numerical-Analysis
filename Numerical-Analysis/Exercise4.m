%Page Rank

n = 14;
q = 0.15;
%A after deleting page 10
A = [                 %
    0 1 0 0 0 0 0 0 1  0 0 0 0 0;
    0 0 1 0 1 0 1 0 0  0 0 0 0 0;
    0 1 0 0 0 1 0 1 0  0 0 0 0 0;
    0 0 1 0 0 0 0 0 0  0 1 0 0 0;
    1 0 0 0 0 0 0 0 0  0 0 0 0 0;
    0 0 0 0 0 0 0 0 0  1 0 0 0 0;
    0 0 0 0 0 0 0 0 0  1 0 0 0 0;
    0 0 0 1 0 0 0 0 0  1 0 0 0 0;
    0 0 0 0 1 1 0 0 0  0 0 0 0 0;
   
    0 0 0 0 0 0 0 0 0  0 0 0 0 1;
    0 0 0 0 0 0 1 1 0  1 0 0 0 0;
    0 0 0 0 0 0 0 0 1  0 0 0 1 0;
    0 0 0 0 0 0 0 0 0  1 0 1 0 1;
    0 0 0 0 0 0 0 0 0  0 1 0 1 0
];
Google = zeros(n,n);
for j=1:n
    n_j = 0;
    for i =1:n
        n_j = n_j + A(j,i);
    end
    for i =1:n
        Google(i,j) = q/n + (A(j,i)*(1-q)) /n_j;
    end
end

bn_1 = A(:,1);
for k =1:10000
    bn = Google * bn_1; 
    %bno = (1/bn(1,1)) *bn;
    bn_1 = bn;

end
fprintf('%.7f ',bn);



% 
% %Page Rank
% 
% n = 15;
% %q = 0.02
% q = 0.6;
% %Updated A to increase the page rank of page 6
% A = [
%     0 1 0 0 0 0 0 0 1 0 0 0 0 0 0;
%     0 0 1 0 1 0 1 0 0 0 0 0 0 0 0;
%     0 1 0 0 0 1 0 1 0 0 0 0 0 0 0;
%     0 0 1 0 0 0 0 0 0 0 0 1 0 0 0;
%     1 0 0 0 0 0 0 0 0 1 0 0 0 0 0;
%     0 0 0 0 0 0 0 0 0 1 1 0 0 0 0;
%     0 0 0 0 0 0 0 0 0 1 1 0 0 0 0;
%     0 0 0 1 0 0 0 0 0 0 1 0 0 0 0;
%     0 0 0 0 0 1 0 0 0 1 0 0 0 0 0;
%     0 0 0 0 0 1 0 0 0 0 0 0 1 0 0;
%     0 0 0 0 0 1 0 0 0 0 0 0 0 0 1;
%     0 0 0 0 0 0 1 1 0 0 1 0 0 0 0;
%     0 0 0 0 0 1 0 0 1 0 0 0 0 1 0;
%     0 0 0 0 0 1 0 0 0 1 1 0 1 0 1;
%     0 0 0 0 0 0 0 0 0 0 0 1 0 1 0
% ];
% Google = zeros(n,n);
% for j=1:n
%     n_j = 0;
%     for i =1:n
%         n_j = n_j + A(j,i);
%     end
%     for i =1:n
%         Google(i,j) = q/n + (A(j,i)*(1-q)) /n_j;
%     end
% end
% 
% bn_1 = A(:,1);
% for k =1:10000
%     bn = Google * bn_1; 
%     %bno = (1/bn(1,1)) *bn;
%     bn_1 = bn;
% 
% end
% fprintf('%.7f ',bn);
% 
% 
